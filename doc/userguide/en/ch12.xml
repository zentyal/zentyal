<chapter id="ch-files">

  <title>File sharing</title>

  <section id='sect-files'>
    <!-- File Sharing -->
    <title>File Sharing</title>
    
    <para>
      You can get into file sharing configuration entering into
      <menuchoice>
	<guimenu>File sharing</guimenu>
      </menuchoice>
      .
      To activate file sharing, check out <xref
      linkend="sect-mod-status"/> for details on how to do it.
    </para>

    <para>
      There are two working modes to this module. It
      can behave as a simple File Server using SMB/CIFS protocols or
      as well as a centralized authenticate method using Primary Domain
      Controller (PDC) to login on Windows NT-based.
    </para>

    <para>
      Both working modes needs the following fields configured:
      <variablelist>
	<varlistentry>
	  <term>Domain name</term>
	  <listitem>
	    <para>
	      Only machines and users who belong to the same domain can
	      share their files between them. With this name eBox will
	      be recognize within the local network.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term>Netbios name</term>
	  <listitem>
	    <para>
	      Name applied to old NetBIOS framework which makes
	      eBox have a name within Windows environment.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term>Description</term>
	  <listitem>
	    <para>
	      eBox description which goes with the Netbios name to
	      provide a detailed description within the network.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term>Quota limit</term>
	  <listitem>
	    <para>Quota disk limit on MB to use for each
	    user. If you don't want to set any quota is OK
	    to fill this field with zero value.</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </para>
    <para>
      This list of settings makes only sense in PDC mode:
      <variablelist>
        <varlistentry>
          <term>Roaming profiles</term>
          <listitem>
            <para>Roaming profiles are a set of directories which
            contains a set of configuration settings from a <trademark>Windows</trademark>
            machine which belongs to the domain. Those directories are
            stored in the server host if this option is
            enabled. Default value is disabled because of the LAN
            traffic overload when starting up a machine since every
            directory should be downloaded from the server which may
            include mail boxes and more data...
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </para>
  </section>

  <section id='sect-shared-files'>
    <title>User and group shared folders</title>

    <para>
      If file sharing module is installed and enabled in eBox,
      you may want to share files among users within the same group or
      publish files within the local network. To achieve so, you
      should go into
      <menuchoice>
	<guimenu>Users</guimenu>
      </menuchoice>
      and edit the user which can publish files on the local
      network. There, you can enable this user to do so and ,
      furthermore, you can set him administrative rights to add
      machines to the domain, if the working mode is
      <emphasis>PDC</emphasis>. Check <link
      linkend='sect-users-users'>User accounts</link> to know more
      about the eBox user configuration.
    </para>

    <para>
      If you want to share a directory among the users within a group,
      you should reach
      <menuchoice>
	<guimenu>Groups</guimenu>
      </menuchoice>
      and edit the group you want. There you can set a name to that
      directory.
    </para>

    <note>
      <para>
	The current file permission allows to read, write and
	execute a file to the owner and read, write and execute to the
	group. Regarding to subdirectories, the setgid bit is set, so
	subdirectories group owner will be the group. Furthermore, the
	new subdirectories will have full access to the group.
      </para>
      
    </note>

  </section>

</chapter>
